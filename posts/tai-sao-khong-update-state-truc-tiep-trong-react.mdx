---
title: Tại sao không cập nhật state trực tiếp thay vì gọi setState?
description: Bạn có bao giờ thắc mắc là tại sao React lại khuyến cáo không nên sửa trực tiếp giá trị trong state hay không? Bài viết này sẽ giải thích cho bạn điều đó. Let go!
publishedDate: 20201114
---

<NextSeo
  title="Tại sao không nên cập nhật state trục tiếp"
  description="Bạn có bao giờ thắc mắc là tại sao React lại khuyến cáo không nên sửa trực tiếp giá trị trong state hay không? Bài viết này sẽ giải thích cho bạn điều đó. Let go!"
  openGraph={{
    title: 'Tại sao không nên cập nhật state trục tiếp',
    description:
      'Bạn có bao giờ thắc mắc là tại sao React lại khuyến cáo không nên sửa trực tiếp giá trị trong state hay không? Bài viết này sẽ giải thích cho bạn điều đó. Let go!',
    url: 'https://www.sanphandinh.com/hello-world',
    type: 'article',
    article: {
      publishedTime: '2017-06-21T23:04:13Z',
      modifiedTime: '2018-01-21T18:04:43Z',
      expirationTime: '2022-12-21T22:04:11Z',
      section: 'Section II',
      authors: ['https://www.example.com/authors/@firstnameA-lastnameA'],
      tags: ['Tag A', 'Tag B', 'Tag C'],
    },
    images: [
      {
        url: 'https://www.test.ie/images/cover.jpg',
        width: 850,
        height: 650,
        alt: 'Photo of text',
      },
    ],
  }}
/>

Bỗng nhiên sau bao nhiêu năm lập trình ReactJS tôi lại nhớ đến câu chuyện với đồng nghiệp thuở tập tành học ReactJS. Cậu bạn đồng nghiệp hỏi tôi rằng tại sao không cập nhật state một cách trực tiếp thay vì phải gọi setState. Tôi cũng mới newbie nên cứng họng một lát, trả lời một cách quanh co. Vậy thì tại sao nhỉ? Khá chắc rằng, những bạn mới làm quen với React có thể cũng có thắc mắc tương tự (hoặc rằng các bạn chưa để ý đến điều này).

Lưu ý: Trong bài viết có nhắc đến những khái niệm cơ bản về React. Tôi sẽ không mô tả hoặc bàn luận về các kiến thức như component, UI, props hay state của component. Bạn đọc có thể tham khảo các thông tin trên ở trên trang chủ của thư viện React tại đây.

Theo mô tả của thư viện React, một component (UI) được rerender (UI cập nhật lại) khi Props hoặc state của component đó thay đổi. Không bàn đến Props, chúng ta sẽ cùng làm một ứng dụng đơn giản để làm sáng tỏ vấn đề này nhé!

Giả sử, ta có một ứng dụng bộ đếm (counter) đơn giản với 1 text hiển thị giá trị counter hiện tại và 1 button để mỗi khi click vào đó thì giá trị counter sẽ tăng lên 1. Đơn giản phải không. Hình mô tả như bên dưới.

# Heading 1

## Heading 2

### Heading 3

#### Heading 4

##### Heading 5

###### Heading 6

---

> Block quote

- ul1
- ul2
- ul3

1. ol 1
2. ol 2
3. ol3

test _em_ **strong** ~~del~~ `a=b`

<https://mdxjs.com> or [MDX](https://mdxjs.com)

![alt](https://mdx-logo.now.sh)

```js live=true
class App extends React.Component {
  state = {
    count: 0,
  };

  _increment = () => {
    this.setState((state) => ({ counter: state.counter + 1 }));
  };

  render() {
    return (
      <div className="App">
        <h1>Counter: {this.state.count}</h1>
        <button onClick={this._increment}>Increment</button>
      </div>
    );
  }
}
```

<CodeSandBox
  src="https://codesandbox.io/embed/stoic-tesla-ucwzo?fontsize=14&hidenavigation=1&theme=dark"
  title="stoic-tesla-ucwzo"
/>

| Tables   |      Are      |   Cool |
| -------- | :-----------: | -----: |
| col 1 is | left-aligned  | \$1600 |
| col 2 is |   centered    |   \$12 |
| col 3 is | right-aligned |    \$1 |
